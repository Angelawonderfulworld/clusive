<div class="popover popover-glossary popover-scrollable" id="glossaryPop">
    <button type="button" class="close" data-cfw-dismiss="popover" aria-label="Close"><span class="icon-cancel-circled2" aria-hidden="true"></span></button>
    <div class="popover-header">
        <strong id="glossaryTitle">
            Glossary
        </strong>
    </div>
    <div class="popover-body">
        <p id="glossaryBody">body content&hellip;</p>
    </div>
    <div id="glossaryFooter"class="popover-footer"></div>
</div>
<script>
var glossaryBeenDragged = false;

$('#glossaryButton').CFW_Popover({
    target: '#glossaryPop',
    trigger: 'manual',
    placement: 'reverse',
    drag: true,
    popperConfig: {
        positionFixed: true,
        eventsEnabled: false,
        modifiers: {
            preventOverflow: {
                boundariesElement: 'viewport',
            },
            computeStyle: {
                gpuAcceleration: false
            }
        },
    }
});

$('#glossaryButton')
    .on('click', function() {
        if ($('#glossaryPop').is(':visible')) {
            $('#glossaryButton').CFW_Popover('hide');
        }
    })
    .on('beforeShow.cfw.popover', function() {
        glossaryBeenDragged = false;
    })
    .on('afterShow.cfw.popover', function() {
        //$('#glossaryButton').data('cfw.popover').popper.enableEventListeners();
        $(window).off('resize.cfw.popover.glossaryButton');

        $('#glossaryPop')
            .find('[data-cfw-drag="popover"]')
            .on('mousedown touchstart MSPointerDown', function() {
                if (!glossaryBeenDragged) {
                    //var newTop = $('#glossaryPop').position().top - document.documentElement.scrollTop;
                    $('#glossaryPop').css({
                        //'top': newTop + 'px',
                        'position': 'fixed'
                    });
                }
                $('#glossaryButton').data('cfw.popover').popper.disableEventListeners();
                glossaryBeenDragged = true;
            });
    });
/*
$(window).on('scroll resize', function() {
console.log('updating');
    if ($('#glossaryPop').is(':visible') && !glossaryBeenDragged) {
        $('#glossaryButton').CFW_Popover('locateUpdate');
    }
});
*/
</script>